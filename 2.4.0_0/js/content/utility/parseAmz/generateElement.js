"use strict";import{parseConstants}from"../../constants/parseConstants.js";import{setUrl}from"../urlsService/setUrl.js";import{showSASPanel}from"../toggleSASPanel/showSASPanel.js";const generateElement=async(e,t)=>{const{decimal:a,zone:s,SAS_LAUNCH_CLASSNAME:r}=parseConstants;var n=document.createElement("a");return n.href="#",n.className=r,n.dataset.asin=e,n.dataset.zone=s,n.dataset.sale_price=(e=t,+((e="."===a[s]?e.replace(/[^0-9.]+/g,""):e.replace(/[^0-9,]+/g,"").replace(",","."))?parseFloat(e.match(/(\d+(?:\.\d{0,2})?)/)[1]):null)),await manageShortcutVisibility(n),n},manageShortcutVisibility=async e=>{((await chrome.storage.sync.get("options"))?.options)?.isShortcutVisible&&addShortcut(e)},addShortcut=e=>{var t=chrome.runtime.getURL("images/sas-logo2-32.png"),a=document.createElement("img");a.src=t,$(e).append(a),$(e).click(function(e){var{asin:t,cost_price:a,sale_price:s,source_url:r}=this.dataset;setUrl(t,a,s,r),showSASPanel(),e.preventDefault()})};export{generateElement};