"use strict";import{mutableData}from"../../constants/mutableData.js";import{setUrl}from"../urlsService/setUrl.js";import{loadSASPanelPosition}from"../positionService/loadSASPanelPosition.js";import{adjustBody}from"../positionService/adjustBody.js";import{showSasShortcuts}from"../showSasShortcuts.js";import{showConfirmationDialog}from"./hideSASPanel.js";const showSASPanel=async(a=!0)=>{var o=document.querySelector(".sasextcl-dialog-wrapper"),o=(o&&o.remove(),a&&await setUrl(),mutableData.gDisplay=!0,await loadSASPanelPosition(),$("#sasFrame")?.attr("src")?.replaceAll("%26th%3D1","").replaceAll("psc%3D1%26",""));o!==mutableData.iFrameURL?.replaceAll("%26th%3D1","").replaceAll("psc%3D1%26","")&&$("#sasFrame").attr("src",mutableData.iFrameURL),$("#SASContainer").removeClass("sasdklgc-display-none"),$("#SASContainer").show(),adjustBody(),showSasShortcuts(!0),chrome.storage.sync.set({display:mutableData.gDisplay},function(){chrome.runtime.lastError&&console.error(chrome.runtime.lastError.message)}),await manageAutoAnalyzeOption()},manageAutoAnalyzeOption=async()=>{var a=(await chrome.storage.sync.get("options"))?.options,o=a?.isAutoAnalyzer,t=a?.isDontAskAgain;o||t||!mutableData.gAmazonProductPage||document.querySelector(".sasextcl-dialog-wrapper")||showConfirmationDialog(a,o)};export{showSASPanel};