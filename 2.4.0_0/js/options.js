(async()=>{const e=chrome.storage.sync,t={};var s=document.getElementById("optionsForm");const i=document.querySelector(".warning-message");var n,o=document.querySelector(".isAutoAnalyzer"),c=document.querySelector(".isShortcutVisible"),a=document.querySelector(".isCSPDisabled");l=document.querySelector(".extension-version"),n=chrome.runtime.getManifest().version,l.textContent=n,o.addEventListener("change",function(){t.isAutoAnalyzer=this.checked,t.isDontAskAgain=!1,e.set({options:t})}),c.addEventListener("change",function(){t.isShortcutVisible=this.checked,e.set({options:t})}),a.addEventListener("change",function(){t.isCSPDisabled=this.checked,e.set({options:t}),r()});const r=()=>{i.style.display="flex"};var l=async()=>{Object.assign(t,{isShortcutVisible:!0,isAutoAnalyzer:!0,isDontAskAgain:!1,isCSPDisabled:!0}),await e.set({options:t})};try{var d=(await e.get("options"))?.options;d?Object.assign(t,d):await l()}catch(e){await l()}finally{s.isAutoAnalyzer.checked=Boolean(t?.isAutoAnalyzer),s.isShortcutVisible.checked=Boolean(t?.isShortcutVisible),s.isCSPDisabled.checked=Boolean(t?.isCSPDisabled)}})();